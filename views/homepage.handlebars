<div class="container background">
  <div class="row">


    {{#each posts as |post|}}
      <div class="col-12 mx-auto">
        <div class="card background-cream px-3 mb-5">
          
         
            <div class="card mx-auto m-3 col-11">
            <div class="row background-green">
            <div class="col-6">
              <div class="d-inline-block background-cream black-font card px-4 mt-3 mb-3 pt-2">
                <h5 class="card-title align-self-start d-">{{post.title}}</h5>
              </div>
            </div>
            <div class="col-6">
              <div
                class="card background-cream black-font float-end d-inline-block px-4 mt-3 mb-3 pt-2 pb-1 text-end ml-auto"
              >
                <small>{{post.User.username}}
                  <br />
                  <hr class="my-1 hr-mini" >
                  {{format_date post.createdAt}}
                </small>
              </div>
           
            </div>
          </div>
          </div>
        <hr class="my-0">

          <div class="card background-green mt-4 px-3 mb-4">
            <a
              href="/post/{{post.id}}"
              class="list-group-item d-flex list-group-item-action mb-4 mt-4 active"
              aria-current="true"
            >
              <div class="card background-cream col-8">
                <p class="black-font card mx-4 px-3 green-font pt-3 mt-4 mb-4 pb-5">{{post.body}}</p>

              </div>

              <div
                class="col-4 float-end d-flex justify-content-end flex-column align-items-end"
              >

                <button
                  class="btn btn-sm mx-1 background-red cream-font"
                  id="comment-page"
                  data-id="{{post.id}}"
                >Add Comment</button>

              </div>

              

            </a>

 <button
                  class="btn btn-sm mx-1 view-com background-red view-comments cream-font"
                    data-id="{{post.id}}"
             
                >View Comments</button>
         
            {{#if post.Comments}}
              <div class="data-{{post.id}}"
              style='display: none'>
                <hr class="cream-font my-0 hr-comment ">
                {{else}}
                {{!-- <br> --}}
                {{/if}}
            <div class="container">
              <div class="row">
                {{#each post.Comments as |comments|}}
                  <div data-id="{{post.id}}" class="col-sm-10 col-10 col-md-6 col-lg-6">
                    
                    <div class="card black-font background-cream px-2 pt-2 mt-3 mb-4">
                           <p class="com-u-name">{{comments.User.username}}</p>
                      {{! <div class="mx-auto col-10 col-sm-10 col-md-10 col-lg-10"> }}
                      <div class="d-flex justify-content-between">
                        <div
                          class="mb-2 p-2 col-12"
                        >
                          <div class="card p-2">
                            <p>{{comments.body}}</p>
                          </div>
                        </div>

                   
                        {{! </div> }}
                      </div>

                    </div>
                  </div>
                {{/each}}
              </div>
            </div>

          </div>
        </div>
      </div>

      
      <hr class="mb-5 cream-font hr-post">
      </div>
   
    {{/each}}

  </div>
</div>

<script src="/js/view-comments.js"></script>
<script src="/js/add-post.js"></script>
<script src="/js/homepage.js"></script>